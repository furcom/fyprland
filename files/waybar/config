// â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
// â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
// â–ˆâ–ˆâ•‘ â–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
// â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
// â•šâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
//  â•šâ•â•â•â•šâ•â•â• â•šâ•â•  â•šâ•â•   â•šâ•â•   â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•
// config by furcom (https://github.com/furcom)

{
    "layer": "top",
    "position": "top",
    "mode": "dock",
    "margin-left": 0,
    "margin-right": 0,
    "margin-top": 0,
    "margin-bottom": 8,
    "fixed-center": true,
    "reload_style_on_change": true,

/*--- LEFT ------------------------------------------------------*/

"modules-left": [
    "group/custom-logo",
    "custom/updates",
    "group/clock",
    "group/hyprland-window"
],

"group/custom-logo": {
    "orientation": "inherit",
    "drawer": {
        "transition-duration": 300,
        "children-class": "not-memory",
        "transition-left-to-right": true
    },
    "modules": ["custom/logo","wireplumber","custom/pipewire","network","bluetooth","backlight","custom/settings"],
},

"group/hyprland-workspaces": {
    "orientation": "inherit",
    "drawer": {
        "transition-duration": 300,
        "children-class": "not-memory",
        "transition-left-to-right": true
    },
    "modules": ["hyprland/workspaces","custom/prev-workspace","custom/overview-workspaces","custom/next-workspace"],
    "tooltip": true
},

"group/hyprland-window": {
    "orientation": "inherit",
    "drawer": {
        "transition-duration": 300,
        "children-class": "not-memory",
        "transition-left-to-right": true
    },
    "modules": ["hyprland/window","custom/win-close","custom/win-prev-workspace","custom/win-next-workspace","custom/win-expand","custom/win-fullscreen","custom/win-float"],
    "tooltip": true
},

"custom/logo": {
    "format": "ïŒƒ",
    "tooltip": false,
    "on-click": "kitty",
    "return-type": "exit"
},

"custom/settings": {
    "format": "î­‘ Settings",
    "tooltip": false,
    "on-click": "~/.config/hypr/scripts/settings",
    "return-type": "exit"
},

"bluetooth": {
    "tooltip": false,
    "format-on": "ïŠ“ On",
    "format-off": "ó°‚² Off",
    "format-disabled": "ó°‚² Disabled",
    "format-connected": "ï–° {device_alias}\t{device_address}",
    "format-connected-battery": "ï–°ó°¥‰ {device_battery_percentage}%",
    "tooltip-format": "{controller_alias}, {controller_address}, {num_connections} connected",
    "tooltip-format-connected": "{controller_alias}\t{controller_address}\n\n{num_connections} connected\n\n{device_enumerate}",
    "tooltip-format-enumerate-connected": "{device_alias}\t{device_address}",
    "tooltip-format-enumerate-connected-battery": "{device_alias}\t{device_address}\t{device_battery_percentage}%",
    "on-click": "kitty sh -c 'rfkill unblock bluetooth && bluetui;'"
}, 

"network": {
    // "interface": "wlan0",
    "tooltip": false,
    "format-wifi": "ó°–© {essid}",
    "format-ethernet":"ï›¿ {ipaddr}",
    "format-disconnected": "î¬ Disconnected",
    "tooltip-format": "{ipaddr}",
    "tooltip-format-wifi": "Network: {essid}\nó°¢½ {signalStrength}%)\nó°©Ÿ {ipaddr}",
    "tooltip-format-ethernet": "î¼‰  {ifname} - {ipaddr}",
    "on-click": "kitty sh -c 'nmtui;'",
},

"backlight": {
    "device": "intel_backlight",
    "format": "{icon} {percent}%",
    "tooltip": false,
    "format-icons": [
        "ó°ƒ›",
        "ó°ƒ",
        "ó°ƒ",
        "ó°ƒŸ",
        "ó°ƒ",
        "ó°ƒ ",
        "ó°–¨"
    ],
    "on-scroll-down": "brightnessctl s 5%+",
    "on-scroll-up": "brightnessctl s 5%-",
    "smooth-scrolling-threshold": 1,
    "on-click": "brightnessctl s 100%",
    "on-click-right": "brightnessctl s 50%"
},

"custom/pipewire": {
    "format": "{}",
    "tooltip": false,
    "restart-interval": 0,
    "exec": "~/.config/hypr/scripts/pipewire --mic",
    "on-scroll-down": "wpctl set-volume -l 1.0 @DEFAULT_SOURCE@ 5%+",
    "on-scroll-up": "wpctl set-volume -l 1.0 @DEFAULT_SOURCE@ 5%-",
    "smooth-scrolling-threshold": 1,
    "on-click": "wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle"
},

"wireplumber": {
    "tooltip": false,
    "format": "{icon} {volume}%",
    "max-volume": 100.0,
    "format-muted": "ó°– Muted",
    "format-icons": ["ó°•¿", "ó°–€", "ó°•¾"],
    "on-click": "wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle",
    "on-scroll-down": "wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+ && notify-send -u normal ${volume}",
    "on-scroll-up": "wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%- && notify-send -u normal ${volume}",
    "scroll-step": "1"
},

"custom/updates": {
    "tooltip": true,
    "tooltip-format": "ó°š° Updates",
    "restart-interval": 3600,
    "exec": "~/.config/hypr/scripts/packages --check",
    "on-click": "kitty sh -c '~/.config/hypr/scripts/packages --pacman'",
    "on-click-right": "kitty sh -c '~/.config/hypr/scripts/packages --aur'"
},

"hyprland/workspaces": {
    "tooltip": false,
    "format": "{icon}",
    "on-click": "activate",
    "active-only": false,
    "tooltip": false,
    "hidden": false,
    "format-icons": {
        "1": "ï‘„",
        "2": "ï‘„",
        "3": "ï‘„",
        "4": "ï‘„",
        "5": "ï‘„",
        "6": "ï‘„",
        "7": "ï‘„",
        "8": "ï‘„",
        "9": "ï˜¯",
        "urgent": "ïª",
        "active": "ï†’",
        "default": "ï„‘"
    },
    "sort-by-number": true,
    "on-scroll-down": "hyprctl dispatch workspace +1",
    "on-scroll-up": "hyprctl dispatch workspace -1",
    "smooth-scrolling-threshold": 1,
    "persistent-workspaces": { "*": 3 }
},

"hyprland/window": {
    "format": "{}",
    "tooltip": true,
    "tooltip-format": "",
    "rewrite": {
        "(.*) - Mozilla Firefox": "ğŸŒ $1",
        "(.*) sh": "kitty ó°…™ ",
        "(.*) - zsh": "kitty ó°…™ "
    },
    "separate-outputs": true,
    "icon": true,
    "icon-size": 22,
    "on-click": "hyprctl dispatch hyprexpo:expo on",
},

"custom/win-fullscreen": {
    "tooltip": true,
    "format": "ï•‹",
    "tooltip-format": "ï•‹ Fullscreen",
    "on-click": "hyprctl dispatch fullscreen 0"
},

"custom/win-expand": {
    "tooltip": true,
    "format": "ï’",
    "tooltip-format": "ï’ Expand window",
    "on-click": "hyprctl dispatch fullscreen 1"
},

"custom/win-close": {
    "tooltip": true,
    "format": "ó°–­",
    "tooltip-format": "ó°…™ Close",
    "on-click": "hyprctl dispatch killactive"
},

"custom/win-next-workspace": {
    "tooltip": true,
    "format": "ó°œ´",
    "tooltip-format": "ó°œ´ Next workspace",
    "on-click": "hyprctl dispatch movetoworkspace +1"
},

"custom/win-prev-workspace": {
    "tooltip": true,
    "format": "ó°œ±",
    "tooltip-format": "ó°œ± Next workspace",
    "on-click": "hyprctl dispatch movetoworkspace -1"
},

"custom/win-float": {
    "tooltip": true,
    "format": "î¬£",
    "tooltip-format": "î¬£ Float",
    "on-click": "hyprctl dispatch togglefloating"
},

/*--- CENTER ----------------------------------------------------*/

"modules-center": [
    "group/hyprland-workspaces"
],

"custom/prev-workspace": {
    "tooltip": true,
    "tooltip-format": "Previous workspace",
    "format": "ó°œ±",
    "on-click": "hyprctl dispatch workspace -1"
},

"custom/next-workspace": {
    "tooltip": true,
    "tooltip-format": "Next workspace",
    "format": "ó°œ´",
    "on-click": "hyprctl dispatch workspace +1"
},

"custom/overview-workspaces": {
    "tooltip": true,
    "tooltip-format": "Workspaces overview (Press and hold)",
    "format": "ïŸ€",
    "on-click": "hyprctl dispatch hyprexpo:expo on"
},

"clock": {
    "tooltip": false,
    "interval": 1,
    "format": "{:%H:%M}",
},

"clock#2": {
    "tooltip": true,
    "interval": 1,
    "format": "-  {:%A, %d.%B %Y}",
    "tooltip-format": "\n<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>",
    "calendar-weeks-pos": "right",
    "today-format": "<span color='#7645AD'><b><u>{}</u></b></span>",
    "format-calendar": "<span color='#aeaeae'><b>{}</b></span>",
    "format-calendar-weeks": "<span color='#aeaeae'><b>W{:%V}</b></span>",
    "format-calendar-weekdays": "<span color='#aeaeae'><b>{}</b></span>"
},

"custom/weather": {
    "format": "{}Â°",
    "tooltip": true,
    "interval": 3600,
    "exec": "wttrbar",
    "return-type": "json"
},


/*--- RIGHT -----------------------------------------------------*/

"modules-right": [
    "group/spotify",
    "tray",
    "group/battery",
    "group/custom-powermenu"
],

"group/spotify": {
    "orientation": "inherit",
    "drawer": {
        "transition-duration": 300,
        "children-class": "not-memory",
        "transition-left-to-right": true
    },
    "modules": ["custom/spotify","custom/prev-song","custom/toggle-song","custom/next-song"],
},

"group/clock": {
    "orientation": "inherit",
    "drawer": {
        "transition-duration": 300,
        "children-class": "not-memory",
        "transition-left-to-right": true
    },
    "modules": ["clock","clock#2","custom/weather"]
},

"group/battery": {
    "orientation": "inherit",
    "drawer": {
        "transition-duration": 300,
        "children-class": "not-memory",
        "transition-left-to-right": true
    },
    "modules": ["battery","power-profiles-daemon"],
},

"group/custom-powermenu": {
    "orientation": "inherit",
    "drawer": {
        "transition-duration": 300,
        "children-class": "not-memory",
        "transition-left-to-right": false
    },
    "modules": ["custom/powermenu","cpu","memory","disk","temperature"],
},

"custom/spotify": {
    "tooltip": false,
    "exec": "~/.config/hypr/scripts/spotify --song",
    "interval": 1,
    "on-click": "playerctl -p spotify play-pause",
    "on-click-right": "hyprctl dispatch focuswindow class:Spotify"
},

"custom/toggle-song": {
    "tooltip": false,
    "exec": "~/.config/hypr/scripts/spotify --button",
    "interval": 1,
    "on-click": "playerctl -p spotify play-pause",
},

"custom/prev-song": {
    "format": "ó°’®",
    "tooltip": false,
    "on-click": "playerctl -p spotify previous",
},
"custom/next-song": {
    "format": "ó°’­",
    "tooltip": false,
    "on-click": "playerctl -p spotify next",
},

"tray": {
    "icon-size": 16,
    "hidden": true,
    "show-passive-items": true,
    "spacing": 8
},

"battery": {
    "interval": 3,
    "tooltip": false,
    "states": {
        "good": 95,
        "warning": 30,
        "critical": 15
        },
    "format": "{icon} {capacity}%",
    "format-alt": "{icon} {time}",
    "format-charging": "ó°‚„ {capacity}%",
    "format-plugged": "ó°‚„î¬­ {capacity}%",
    "format-icons": [
        "ó°»",
        "ó°¼",
        "ó°¾",
        "ó°‚€",
        "ó°‚‚",
        "ó°¹"
    ]
},

"power-profiles-daemon": {
  "format": "{icon} {profile}",
  "tooltip-format": "Power profile: {profile}\nDriver: {driver}",
  "tooltip": true,
  "format-icons": {
    "default": "ïƒ§",
    "performance": "ïƒ§",
    "balanced": "ï‰",
    "power-saver": "ï¬"
  }
},

"cpu": {
    "tooltip": false,
    "interval": 10,
    "format": "ï‹› {usage}%",
    "on-click": "kitty sh -c htop",
},

"memory": {
    "tooltip": false,
    "interval": 10,
    "format": "î‰¦ {percentage}%",
    "on-click": "kitty sh -c 'free -ght && read'"
},

"disk": {
    "tooltip": false,
    "interval": 10,
    "format": "ï‡€ {percentage_used}%",
    "path": "/",
    "unit": "GB",
    "on-click": "kitty sh -c 'df -h && read'"
},

"temperature": {
    "tooltip": false,
    "hwmon-path": "/sys/devices/platform/thinkpad_hwmon/hwmon/hwmon5/temp1_input",
    "format": "ï‹‰ {temperatureC}Â°C",            
    "format-critical": "ï‹‡",
    "critical-threshold": 80,
    "on-click": "kitty sh -c htop"
},

"custom/powermenu": {
    "format": "â»",
    "tooltip": false,
    "on-click": "~/.config/hypr/scripts/powermenu"
},

}
